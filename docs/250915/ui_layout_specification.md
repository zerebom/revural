# UIレイアウト仕様書

## 1. 目的
本文書は、「AI文書レビューツール」のレビュー画面におけるUIの全体構成、レイアウト、および視覚的デザイン原則を定義する。ユーザーが長時間、快適に作業に集中できる、クリーンで直感的なインターフェースの実現を目的とする。

---

## 2. 全体構成: ヘッダー + 2ペインレイアウト

レビュー画面の基本構成は、画面上部の「スリムヘッダー」と、メインコンテンツエリアの「2ペインレイアウト」とする。

- **ヘッダー:** 画面全体のコンテキストを示し、主要なアクションへの導線を確保する。
- **2ペインレイアウト:** 左ペインに「レビュー対象の文書」、右ペインに「AIからの指摘事項」を常時表示する。これにより、ユーザーは文脈と詳細情報を同時に見比べながら、効率的に思考を深めることができる。
- **サイドシート:** 採用しない。主要な情報を常に表示しておく2ペインレイアウトの利点を最大化するため、一時的に表示されるサイドシートは不要と判断する。

---

## 3. ヘッダーの仕様

ヘッダーは、ナビゲーション、現在地、主要アクションの3要素で構成される。

- **左端: ナビゲーション**
  - 用途: レビュー一覧画面など、前のページに戻るための起点。
  - 要素: `< 戻る` のように、アイコンとテキストを組み合わせたボタンを配置する。

- **中央: 現在地の表示**
  - 用途: ユーザーが何の作業をしているかを常に明示する。
  - 要素: 現在レビュー中の文書タイトルを表示する。タイトルが長い場合は、末尾を「...」で省略する。

- **右端: 主要アクション**
  - 用途: レビューセッションを完了させるための主要な操作へのショートカット。
  - 要素: `[サマリー]` ボタンと `[エクスポート]` ボタンを2つ並べて配置する。両者は同等の重要度を持つアクションと位置づける。

---

## 4. 視覚的デザイン原則: モダン・ミニマルスタイル

UIの見た目は、現代の生産性ツールで標準となっている「モダン・ミニマル」スタイルを採用する。線や影といった視覚的ノイズを極力排除し、ユーザーがコンテンツに集中できる環境を提供する。

### 4.1. 階層構造と背景
- **ページ背景:** `body` タグなどに、ごく薄いグレー (`#F8F9FA` や `slate-50` など) を設定する。
- **ワークスペース背景:** ヘッダーと左右のペインには、白 (`#FFFFFF`) を設定する。これにより、ページ背景の上に、一つのまとまった「作業エリア」が浮いているような階層構造を表現する。

### 4.2. 要素間の区切り方
- **ヘッダーとペインの境界:**
  - ヘッダーの下辺に、非常に薄いグレー (`slate-200` など) の1pxの境界線 (`border-bottom`) を引く。これは強く区切るためではなく、ヘッダーの領域をさりげなく示すための最小限の合図とする。
- **左右ペインの境界:**
  - **境界線は設けない（ボーダーレス）**。代わりに、左右のペイン間に十分な余白 (gap) を設ける。ユーザーはこの余白を自然な区切りとして認識する。
- **影 (Shadow):**
  - 原則として、`box-shadow` は使用しない。フラットでクリーンな印象を維持する。

### 4.3. 目指す印象
- **ボーダーレス & シームレス:** 要素間のつながりが滑らかで、一体感のあるUI。
- **クリーン & プロフェッショナル:** 視覚的なノイズが少なく、信頼感のある専門的なツールの印象。
- **コンテンツファースト:** ユーザーの意識が自然と文書や指摘内容といった本質的な情報に向かうデザイン。

---

## 5. 実装方針: 既存コードの改修ステップ

`frontend/components/ReviewPage.tsx` を中心とした既存コードを、本仕様に沿って改善するための具体的な方針を以下に示す。

### Step 1: `Header` コンポーネントの新規作成
- **ファイル:** `frontend/components/layout/Header.tsx` などを新規作成する。
- **責務:** 本仕様書のセクション3で定義されたヘッダーを実装する。文書タイトルや各種コールバック関数をPropsとして受け取る、再利用可能なコンポーネントとする。

### Step 2: `ReviewPage.tsx` のレイアウト再構築
- **ファイル:** `frontend/components/ReviewPage.tsx` を修正する。
- **方針:**
  1. 現在の横並びのflexレイアウトを、ページ全体をコントロールする親要素と、その中に「Header」と「2ペインのコンテナ」が縦に並ぶ階層構造に変更する。
  2. ページ全体の背景色 (`bg-slate-50` など) を親要素に適用する。
  3. 作成した `<Header />` を配置し、必要なProps（文書タイトル、各種イベントハンドラ）を渡す。
  4. 2ペインを囲むコンテナ (`<main>`) に `flex` と `gap` を適用し、左右ペインを配置する。

### Step 3: スタイリングの「モダン・ミニマル」化
- **ファイル:** `ReviewPage.tsx` とその子コンポーネントを修正する。
- **方針:**
  1. 左右ペインを区切っていた `border-l` などのクラスを削除する。
  2. 左右のペインが配置されるコンテナに `gap-4` などのクラスを追加し、空間で区切る。
  3. 左右のペイン自体に `bg-white`, `rounded-xl`, `p-6` などを適用し、仕様書4.1で定義した「浮いている」ような階層構造を実現する。`box-shadow` 系のクラス（`shadow-sm` など）は使用しない。
  4. 各コンポーネントのパディングやマージンを再調整し、全体の余白を最適化する。

---

## 6. サマリーページの仕様

ヘッダーの「サマリー」ボタン押下時に遷移するサマリーページの仕様を定義する。

### 6.1. ユーザーゴール
- **思考の再構築:** レビューセッション中に行ったAIとの対話の断片を、一貫した思考プロセスとして再確認し、自身の知識として定着させる。
- **最終確認:** エクスポートや共有を行う前に、レビューの成果全体を俯瞰し、報告内容に漏れや誤りがないか最終チェックを行う。

### 6.2. 表示レイアウトとコンテンツ
- **基本レイアウト:**
  - 全ての情報を単一のページに表示し、縦スクロールのみで閲覧できる「一枚岩のレポート」形式とする。
  - 思考の中断を防ぐため、ページネーションやアコーディオンUIは使用しない。
- **表示コンテンツ:**
  1.  **統計情報:** ページ最上部に、指摘事項の総数やステータス毎の件数といったサマリー情報を簡潔に表示する。
  2.  **指摘事項一覧:**
      - 各指摘事項を「カード」UIとして視覚的にグループ化して表示する。
      - 各カードには、「論点タイトル」「担当AI」「ステータス」「AIによる最初の指摘内容」「AIとユーザーの全チャット履歴」を、この順番で含める。
      - チャット履歴は見慣れた対話形式で表示し、議論の流れを直感的に追体験できるようにする。
