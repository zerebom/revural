# As-Is / To-Be: AIレビューチーム編成機能

## 1. As-Is (現状)

### UI/UXフロー
1.  **単一の入力フォーム:** ユーザーはトップページで、製品要求仕様書（PRD）を貼り付けるための大きなテキストエリアのみを操作します。
2.  **固定化されたレビュープロセス:** 「専門家レビューを開始」ボタンを押すと、バックグラウンドで予め定義された固定の専門家チーム（Webサービスパネルなど）によるレビューが実行されます。
3.  **誰からのレビューか不明確:** レビュー結果画面では、どの指摘がどの専門家（AIエージェント）からのものかが明示されません。

### 技術的な実装
- **フロントエンド:** `PrdInputForm.tsx` は、`prdText` のみを取得し、`api.startReview(prdText)` の形でAPIを呼び出しています。エージェントやパネルを選択するUIは存在しません。
- **バックエンドAPI:** `/reviews` エンドポイントは `panel_type` というパラメータを受け取る準備がありますが、現状のフロントエンドからは利用されておらず、常にデフォルトの挙動をします。

---

## 2. To-Be (目指す姿)

### UI/UXフロー
1.  **チーム編成UIの追加:** PRDを貼り付けるテキストエリアの下に、「レビューチームを選択」セクションが新設されます。
2.  **専門家の可視化と選択:** ユーザーは、各AIエージェントの顔（アバター）、名前、肩書き、専門性が書かれたプロフィールカードを見て、レビューを依頼したいメンバーを直感的に選択できます。これにより、「人を選んでチームを組む」という体験を提供します。
3.  **選択したチームへの依頼:** 「選択したチームにレビューを依頼」ボタンを押すと、自分が選んだエージェント構成でレビューが実行されます。
4.  **顔の見えるレビュー結果:** レビュー結果画面では、全ての指摘事項に「誰が（どのエージェントが）指摘したか」がアバター付きで明示されます。これにより、指摘の背景にある専門性をユーザーが理解しやすくなり、納得感が高まります。

### 技術的な実装
- **フロントエンド:**
    - `PrdInputForm.tsx` に、状態（`useState`）で選択されたエージェントIDのリストを管理するロジックを追加します。
    - 選択されたIDリストを `panel_type` パラメータ（例: `"backend_engineer,ux_designer"` のようなカンマ区切りの文字列）として `api.startReview` に渡します。
    - エージェントのプロフィール情報を保持する `frontend/lib/agents.ts` のようなファイルを作成します。
- **バックエンドAPI:** `/reviews` エンドポイントで `panel_type` パラメータを受け取り、指定されたエージェント構成でレビュープロセスを動的に実行するようにします。パラメータが`null`の場合は従来通りのデフォルト構成で動作します。
